<!DOCTYPE html>
<html lang="en">

<head>
    <title>PROJECTS</title>
    <link rel="icon" type="image/png" href="static/beetle.png"
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
      <link href="https://fonts.googleapis.com/css?family=Roboto+Mono" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='fontt.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='bootstrap.min.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='magnific-popup.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='jquery-ui.css') }}">
    <link rel="stylesheet"href="{{ url_for('static', filename='owl.carousel.min.css') }}">
    <link rel="stylesheet" type="text/css"  href="{{ url_for('static', filename='owl.theme.default.min.css') }}">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='bootstrap-datepicker.css') }}">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='flaticon.css') }}">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='aos.css') }}">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='style.css') }}">
</head>

<body>
    <div class="site-wrap">
        <div class="site-mobile-menu">
            <div class="site-mobile-menu-header">
                <div class="site-mobile-menu-close mt-3">
                    <span class="icon-close2 js-menu-toggle"></span>
                </div>
            </div>
            <div class="site-mobile-menu-body"></div>
        </div>
       <header class="site-navbar py-3" role="banner">
            <div class="container-fluid">
                <div class="row align-items-center">
                    <div class="col-11 col-xl-2">
                        <h1 class="mb-0"><a href="{{ url_for('admindashboard') }}" class="text-white h2 mb-0">Bui<span class="text-primary">Bui</span> </a></h1>
                    </div>
                    <div class="col-12 col-md-10 d-none d-xl-block">
                        <nav class="site-navigation position-relative text-right" role="navigation">
                            <ul class="site-menu js-clone-nav mx-auto d-none d-lg-block">
                                <li class="active"><a href="{{ url_for('admindashboard') }}">Admin Dashboard</a></li>
                                <li><a href="{{ url_for('adminprofile') }}">Your Profile</a></li>
                                <li><a href="{{ url_for('addusers') }}">Add Users</a></li>
                            </ul>
                        </nav>
                    </div>
                    <div class="d-inline-block d-xl-none ml-md-0 mr-auto py-3" style="position: relative; top: 3px;"><a href="#" class="site-menu-toggle js-menu-toggle text-white"><span class="icon-menu h3"></span></a></div>
                </div>
            </div>
    </div>
    </header>


    <div class="site-section site-hero inner">
        <div class="container">
            <div class="row align-items-center">

                    <span class="d-block mb-3 caption aos-init aos-animate" data-aos="fade-up" data-aos-delay="100"></span>


          <div style="height:auto;border:2px solid #ff5733; width: 100%;
  overflow-x: auto;padding: 30px;display: block;text-align: center!important;">
                            <h2>CURRENT PROJECTS:</h2>
  <table style="clear: both;
    margin-top: 6px !important;
    margin-bottom: 6px !important;
    border-collapse: separate !important;border: 1px solid #f4f4f4; box-sizing: border-box;text-indent: initial;background-color: transparent;
}">
  <thead style="display: table-header-group;
    vertical-align: middle;
    border-color: inherit;border-collapse: separate !important;text-indent: initial;">
    <tr>
                <th style="color: #ff5733; width:auto; border-top: 0;border-left-width: 0;border-bottom-width: 2px;padding: 8px;text-align: left;border-collapse: separate !important;    text-indent: initial; border: 1px solid #f4f4f4;">Project Status</th>
        <th style="color: #ff5733; border-top: 0;border-left-width: 0;border-bottom-width: 2px;padding: 8px;text-align: left;border-collapse: separate !important;    text-indent: initial; border: 1px solid #f4f4f4;"> Project ID</th>
        <th style="color: #ff5733; border-top: 0;border-left-width: 0;border-bottom-width: 2px;padding: 8px;text-align: left;border-collapse: separate !important;    text-indent: initial; border: 1px solid #f4f4f4;"> Project Title</th>
                <th style="color: #ff5733; border-top: 0;border-left-width: 0;border-bottom-width: 2px;padding: 8px;text-align: left;border-collapse: separate !important;    text-indent: initial; border: 1px solid #f4f4f4;">
                    Project Description</th>
                <th style="color: #ff5733; border-top: 0;border-left-width: 0;border-bottom-width: 2px;padding: 8px;text-align: left;border-collapse:
                 separate !important;    text-indent: initial; border: 1px solid #f4f4f4;">Created At</th>
                <th style="color: #ff5733; border-top: 0;border-left-width: 0;border-bottom-width: 2px;padding: 8px;text-align:
                left;border-collapse: separate !important;    text-indent: initial; border: 1px solid #f4f4f4;">Updated At</th>
                <th style="color: #ff5733; border-top: 0;border-left-width: 0;border-bottom-width: 2px;padding: 8px;text-align:
                left;border-collapse: separate !important;    text-indent: initial; border: 1px solid #f4f4f4;">Deadline</th>
                <th style="color: #ff5733; border-top: 0;border-left-width: 0;border-bottom-width: 2px;padding: 8px;text-align:
                left;border-collapse: separate !important;    text-indent: initial; border: 1px solid #f4f4f4;">Change Deadline</th>
                <th style="color: #ff5733; border-top: 0;border-left-width: 0;border-bottom-width: 2px;padding: 8px;text-align:
                left;border-collapse: separate !important;    text-indent: initial; border: 1px solid #f4f4f4;">Manager ID</th>
                <th style="color: #ff5733; border-top: 0;border-left-width: 0;border-bottom-width: 2px;padding: 8px;text-align:
                left;border-collapse: separate !important;    text-indent: initial; border: 1px solid #f4f4f4;">Manager Email</th>
                <th style="color: #ff5733; border-top: 0;border-left-width: 0;border-bottom-width: 2px;padding: 8px;text-align:
                 left;border-collapse: separate !important;    text-indent: initial; border: 1px solid #f4f4f4;">Assign New PM</th>

                <th style="color: #ff5733; border-top: 0;border-left-width: 0;border-bottom-width: 2px;padding: 8px;text-align:
                left;border-collapse: separate !important;    text-indent: initial; border: 1px solid #f4f4f4;">Project Stakeholder Email</th>
                <th style="color: #ff5733; border-top: 0;border-left-width: 0;border-bottom-width: 2px;padding: 8px;text-align:
                left;border-collapse: separate !important;    text-indent: initial; border: 1px solid #f4f4f4;">Project Stakeholder Phone</th>

                <th style="color: #ff5733; border-top: 0;border-left-width: 0;border-bottom-width: 2px;padding: 8px;text-align:
                left;border-collapse: separate !important;    text-indent: initial; border: 1px solid #f4f4f4;">Project Type</th>
                <th style="color: #ff5733; border-top: 0;border-left-width: 0;border-bottom-width: 2px;padding: 8px;text-align:
                left;border-collapse: separate !important;    text-indent: initial; border: 1px solid #f4f4f4;">HALT PROJECT</th>
                <th style="color: red; border-top: 0;border-left-width: 0;border-bottom-width: 2px;padding: 8px;text-align: left;border-collapse: separate !important;
                   text-indent: initial; border: 1px solid #f4f4f4;">REMOVE PROJECT</th>



    </tr>
  </thead>


   <tbody style="box-sizing: border-box;text-indent: initial;border-collapse: separate !important;">
   {% for project in projects %}

      <tr>
                    <td style="border-bottom-width: 0;border-left-width: 0;border: 1px solid #f4f4f4;padding: 8px;line-height: 1.42857143;vertical-align: top;display: table-cell;
    border-collapse: separate !important;text-indent: initial;">{{ project[13] }}</td>
                    <td style="border-bottom-width: 0;border-left-width: 0;border: 1px solid #f4f4f4;padding: 8px;line-height: 1.42857143;vertical-align: top;display: table-cell;
    border-collapse: separate !important;text-indent: initial;">{{ project[0] }}</td>
                    <td style="border-bottom-width: 0;border-left-width: 0;border: 1px solid #f4f4f4;padding: 8px;line-height: 1.42857143;vertical-align: top;display: table-cell;
    border-collapse: separate !important;text-indent: initial;">{{ project[1] }}</td>
                    <td style="border-bottom-width: 0;border-left-width: 0;border: 1px solid #f4f4f4;padding: 8px;line-height: 1.42857143;vertical-align: top;display: table-cell;
    border-collapse: separate !important;text-indent: initial;">{{ project[2] }}</td>
                    <td style="border-bottom-width: 0;border-left-width: 0;border: 1px solid #f4f4f4;padding: 8px;line-height: 1.42857143;vertical-align: top;display: table-cell;
    border-collapse: separate !important;text-indent: initial;">{{ project[3] }}</td>
                    <td style="border-bottom-width: 0;border-left-width: 0;border: 1px solid #f4f4f4;padding: 8px;line-height: 1.42857143;vertical-align: top;display: table-cell;
    border-collapse: separate !important;text-indent: initial;">{{ project[4] }}</td>
                    <td style="border-bottom-width: 0;border-left-width: 0;border: 1px solid #f4f4f4;padding: 8px;line-height: 1.42857143;vertical-align: top;display: table-cell;
    border-collapse: separate !important;text-indent: initial;">{{ project[5] }}</td>
                    <td style="border-bottom-width: 0;border-left-width: 0;border: 1px solid #f4f4f4;padding: 8px;line-height: 1.42857143;vertical-align: top;display: table-cell;
    border-collapse: separate !important;text-indent: initial;">
                         <form method="POST" action="{{ url_for('change_deadline', project_id=project[0]) }}">
                           <div class="form-group">
                               <input type="date" class="form-control" id="new_deadline" name="new_deadline" value="{{ project[6] }}" required>
                           </div>
                             <button type="submit" style="color:#ff5733">New Deadline</button>
                         </form>
                    </td>
                    <td style="border-bottom-width: 0;border-left-width: 0;border: 1px solid #f4f4f4;padding: 8px;line-height: 1.42857143;vertical-align: top;display: table-cell;
    border-collapse: separate !important;text-indent: initial;">{{ project[6] }}</td>
                    <td style="border-bottom-width: 0;border-left-width: 0;border: 1px solid #f4f4f4;padding: 8px;line-height: 1.42857143;vertical-align: top;display: table-cell;
    border-collapse: separate !important;text-indent: initial;">{{ project[7] }}</td>
                    <td style="border-bottom-width: 0;border-left-width: 0;border: 1px solid #f4f4f4;padding: 8px;line-height: 1.42857143;vertical-align: top;display: table-cell;
    border-collapse: separate !important;text-indent: initial;">


            <form action="{{ url_for('assign_manager', project_id=project[0]) }}" method="POST">
                 <select name="manager_id">
                     {% for manager in managers %}
                   <option value="{{ manager[0] }}">{{ manager[1] }} {{ manager[2] }} ID:{{ manager[0] }}
                   </option>
                     {% endfor %}
                 </select>
                 <button type="submit">Assign Manager</button>
             </form>

                    </td>
                    <td style="border-bottom-width: 0;border-left-width: 0;border: 1px solid #f4f4f4;padding: 8px;line-height: 1.42857143;vertical-align: top;display: table-cell;
    border-collapse: separate !important;text-indent: initial;">{{ project[8] }}</td>
                    <td style="border-bottom-width: 0;border-left-width: 0;border: 1px solid #f4f4f4;padding: 8px;line-height: 1.42857143;vertical-align: top;display: table-cell;
    border-collapse: separate !important;text-indent: initial;">{{ project[9] }}</td>
                    <td style="border-bottom-width: 0;border-left-width: 0;border: 1px solid #f4f4f4;padding: 8px;line-height: 1.42857143;vertical-align: top;display: table-cell;
    border-collapse: separate !important;text-indent: initial;">{{ project[11] }}</td>
                    <td style="border-bottom-width: 0;border-left-width: 0;border: 1px solid #f4f4f4;padding: 8px;line-height: 1.42857143;vertical-align: top;display: table-cell;
    border-collapse: separate !important;text-indent: initial;">
                        {% if project[13] == "RUNNING" %}
                        <form action="{{ url_for('halt_project', project_id=project[0]) }}" method="post">
                           <button type="submit" class="btn btn-warning" style="color:red">Halt Project</button>
                        </form>
                         {% elif project[13] == "HALTED" %}
                         <form action="{{ url_for('resume_project', project_id=project[0]) }}" method="post">
                           <button type="hidden" class="btn btn-warning" style="color:red">Resume Project</button>
                        </form>
                        {% endif %}
                    </td>
                    <td style="border-bottom-width: 0;border-left-width: 0;border: 1px solid #f4f4f4;padding: 8px;line-height: 1.42857143;vertical-align: top;display: table-cell;
    border-collapse: separate !important;text-indent: initial;">
                        <form action="{{ url_for('remove_project', project_id=project[0]) }}" method="post">
    <button type="submit" class="btn btn-danger" style="background-color:red">Remove Project</button>
</form>


                    </td>
          {% endfor %}




    </tr>

  </tbody>
</table>
                            <div class="row align-items-center">

                            </div>
                            <div>
                            </div>
                        </div><br><br><br>







</div>
    </div>
            </div>
        </div>
    </div>


        <script src="{{ url_for('static', filename='main.js') }}"></script>
     <script src="{{ url_for('static', filename='jquery.magnific-popup.min.js') }}"></script>
     <script src="{{ url_for('static', filename='jquery.countdown.min.js') }}"></script>
     <script src="{{ url_for('static', filename='jquery.stellar.min.js') }}"></script>
     <script src="{{ url_for('static', filename='owl.carousel.min.js') }}"></script>
     <script src="{{ url_for('static', filename='popper.min.js') }}"></script>
     <script src="{{ url_for('static', filename='jquery-ui.js') }}"></script>
     <script src="{{ url_for('static', filename='jquery-migrate-3.0.1.min.js') }}"></script>
     <script src="{{ url_for('static', filename='jquery-3.3.1.min.js') }}"></script>
    <script src="{{ url_for('static', filename='bootstrap-datepicker.min.js') }}"></script>
    <script src="{{ url_for('static', filename='bootstrap.min.js') }}"></script>
    <script src="{{ url_for('static', filename='aos.js') }}"></script>

    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-23581568-13"></script>
    <script>
        window.dataLayer = window.dataLayer || [];

        function gtag() {
            dataLayer.push(arguments);
        }
        gtag('js', new Date());

        gtag('config', 'UA-23581568-13');
    </script>
    <script defer src="https://static.cloudflareinsights.com/beacon.min.js/vaafb692b2aea4879b33c060e79fe94621666317369993" integrity="sha512-0ahDYl866UMhKuYcW078ScMalXqtFJggm7TmlUtp0UlD4eQk0Ixfnm5ykXKvGJNFjLMoortdseTfsRT8oCfgGA==" data-cf-beacon='{"rayId":"79b5006c5d1e9cac","token":"cd0b4b3a733644fc843ef0b185f98241","version":"2023.2.0","si":100}'
        crossorigin="anonymous"></script>
</body>

</html>